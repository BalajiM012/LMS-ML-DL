from src.app_factory_minimal import create_app, db
from src.models import User, Book, BorrowRecord, Fees
from datetime import datetime, timedelta

def insert_test_data():
    app = create_app()
    
    with app.app_context():
        # Clear existing data
        db.session.query(BorrowRecord).delete()
        db.session.query(Fees).delete()
        db.session.query(User).delete()
        db.session.query(Book).delete()
        db.session.commit()

        # Insert sample users
        admin_user = User(
            username='admin',
            email='admin@lms.com',
            password_hash='scrypt:32768:8:1$kH6VJiCmOjW3bB8k$8c7ac9f3c7c5e8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9f8e9
